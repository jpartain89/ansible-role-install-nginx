---
# defaults file for install-nginx

#nginx_version: "nginx-1.13.11"
pcre_version: "pcre-8.42"
zlib_version: "zlib-1.2.11"
openssl_version: "openssl-1.1.0f"

nginx_url: "http://nginx.org/download/{{ nginx_version }}.tar.gz"
pcre_url: "https://ftp.pcre.org/pub/pcre/{{ pcre_version }}.tar.gz"
zlib_url: "http://zlib.net/{{ zlib_version }}.tar.gz"
openssl_url: "http://www.openssl.org/source/{{ openssl_version }}.tar.gz"

nginx_script:
  prefix: /usr/share/nginx
  sbin_path: /usr/sbin/nginx
  conf_path: /etc/nginx/nginx.conf
  http_log_path: /var/log/nginx/access.log
  error_log_path: /var/log/nginx/error.log
  lock_path: /var/lock/nginx.lock
  pid_path: /run/nginx.pid
  modules_path: /usr/lib/nginx/modules
  http_client_body_temp_path: /var/lib/nginx/body
  http_fastcgi_temp_path: /var/lib/nginx/fastcgi
  http_proxy_temp_path: /var/lib/nginx/proxy
  http_scgi_temp_path: /var/lib/nginx/scgi
  http_uwsgi_temp_path: /var/lib/nginx/uwsgi
  with:
    - 'pcre=../{{ pcre_version }}'
    - 'zlib=../{{ zlib_version }}'
    - 'debug'
    - 'pcre-jit'
    - 'http_ssl_module'
    - 'http_stub_status_module'
    - 'http_realip_module'
    - 'http_auth_request_module'
    - 'http_dav_module'
    - 'http_slice_module'
    - 'threads'
    - 'http_addition_module'
    - 'http_gunzip_module'
    - 'http_gzip_static_module'
    - 'http_sub_module'
    - 'http_xslt_module=dynamic'
    - 'stream=dynamic'
    - 'stream_ssl_module'
    - 'mail=dynamic'
    - 'mail_ssl_module'

nginx_prerequisites:
  - build-essential
  - curl
  - git
  - gcc
  - make
  - libpcre3-dev
  - libpcre++-dev
  - libssl-dev
  - checkinstall
  - auto-apt
  - zlib1g-dev
  - libbz2-dev
  - libxslt1-dev
  - libxml2-dev
  - libgeoip-dev
  - libgoogle-perftools-dev
  - libperl-dev
  - libssl-dev
  - libcurl4-openssl-dev

#nginx_extra_prerequisites:
  #- php7.0
  #- php7.0-fpm
